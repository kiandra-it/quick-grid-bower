!function(){"use strict";angular.module("ngQuickGrid",[])}();
!function(){"use strict";angular.module("ngQuickGrid").directive("quickGrid",function(){return{restrict:"A",scope:!0,controllerAs:"grid",controller:["$scope","$element","$attrs",function(e,r,t){this.searchModel=e.$eval(t.gridModel)}]}})}();
!function(i){try{i=angular.module("quick-grid-partials")}catch(n){i=angular.module("quick-grid-partials",[])}i.run(["$templateCache",function(i){i.put("/quick-grid/quick-grid-footer.html",'<div class="btn-group" ng-if="quickPaging.searchModel.pageCount.length > 1"><button ng-repeat="x in quickPaging.searchModel.pageCount track by $index" ng-click="quickPaging.searchModel.paging.toPage($index)" ng-disabled="$index === quickPaging.searchModel.paging.pageIndex" class="btn btn-primary btn-sm">{{$index + 1}}</button></div>')}])}();
!function(){"use strict";angular.module("ngQuickGrid").directive("quickPaging",function(){return{restrict:"A",require:["^quickGrid","quickPaging"],controller:function(){},scope:!0,controllerAs:"quickPaging",templateUrl:"/quick-grid/quick-grid-footer.html",link:function(i,r,c,e){var n=e[0],t=e[1];t.searchModel=n.searchModel}}})}();
!function(){"use strict";angular.module("ngQuickGrid").directive("quickSort",["$compile",function(i){return{restrict:"A",require:"^quickGrid",link:function(e,n,o,r){var c=o.quickSort,t=angular.element("<span ng-if=\"grid.searchModel.paging.sortBy.toLowerCase().indexOf('"+c.toLowerCase()+'\') === 0"><i class="glyphicon glyphicon-triangle-bottom" ng-if="grid.searchModel.paging.sortBy.toLowerCase().indexOf(\'desc\') > -1"></i><i class="glyphicon glyphicon-triangle-top" ng-if="grid.searchModel.paging.sortBy.toLowerCase().indexOf(\'desc\') === -1"></i></span>');n.append(i(t)(e)),n.on("click",function(){e.$apply(function(){r.searchModel.paging.sort(c)})})}}}])}();
!function(){"use strict";function t(t,i){this.value=t,this.toJSON=function(){if(null!==this.value&&void 0!==this.value&&""!==this.value){var t=this.value;return i+t}}}function i(t){this.sort(t)}function n(t,n){this.model=n||{},this.paging=new i(t),this.pageCount=[],this.filters={},this.toJSON=function(){return{model:this.model,paging:this.paging,filters:this.filters}}.bind(this),this.toQueryString=function(){var t=[];return Object.keys(this.filters).forEach(function(i){var n="filters["+t.length+"]";t.push(n+".key="+i),t.push(n+".value="+escape(this.filters[i].toJSON()))}.bind(this)),t.push("paging.pageIndex="+(this.paging.pageIndex||"")),t.push("paging.sortBy="+escape(this.paging.sortBy||"")),t.push("paging.filterHash="+escape(this.paging.filterHash||"")),t.join("&")}.bind(this)}var s={"%":function(t){this.value=t,this.toJSON=function(){if(null!==this.value&&void 0!==this.value&&""!==this.value){var t=this.value;return"%"+t+"%"}}},"%~":function(t){this.value=t,this.toJSON=function(){if(null!==this.value&&void 0!==this.value&&""!==this.value){var t=this.value;return"%"+t}}},"~%":function(t){this.value=t,this.toJSON=function(){if(null!==this.value&&void 0!==this.value&&""!==this.value){var t=this.value;return t+"%"}}},"()":function(t){this.value=t,this.toJSON=function(){if(null!==this.value&&void 0!==this.value&&""!==this.value){var t=[];return this.value.forEach(function(i){t.push(i)}),"("+t.join(",")+")"}}}};n.prototype={addFilter:function(i,n,e){var h=s[n]||t;this.filters[i]=new h(e,n)},attachToScope:function(t,i,n){function s(){h=t.$watch(function(){return this.paging}.bind(this),function(t,n){t.sortBy===n.sortBy&&t.pageIndex===n.pageIndex||i(angular.extend({},this.model,{filters:this.filters}),t,!1)}.bind(this),!0)}function e(t,n){t!==n&&(h&&h(),this.paging.pageIndex=0,this.paging.filterHash=null,i(this,!0).then(function(t){null!==t.pageCount&&(this.pageCount.length=t.pageCount),this.paging.filterHash=t.filterHash,s.call(this)}.bind(this)))}var h;t.$watch(function(){return this.model}.bind(this),e.bind(this),!0),t.$watch(function(){return this.filters}.bind(this),e.bind(this),!0),s.call(this),n&&e.call(this,1,2)}},i.prototype={sort:function(t){null===t?delete this.sortBy:t===this.sortBy?this.sortBy=t+" desc":this.sortBy=t},toPage:function(t){this.pageIndex=t}},angular.module("ngQuickGrid").factory("SearchModel",function(){return n})}();